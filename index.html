<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shadow Dealer</title>
<style>
body{
margin:0;
font-family:Arial, sans-serif;
background:#0e1621;
color:white;
display:flex;
height:100vh;
}

.sidebar{
width:30%;
background:#17212b;
overflow-y:auto;
border-right:1px solid #222;
}

.chat-item{
padding:15px;
border-bottom:1px solid #222;
cursor:pointer;
}
.chat-item:hover{
background:#1f2c38;
}

.main{
flex:1;
display:flex;
flex-direction:column;
}

.topbar{
background:#17212b;
padding:12px;
display:flex;
justify-content:space-between;
align-items:center;
border-bottom:1px solid #222;
}

.chat{
flex:1;
padding:15px;
overflow-y:auto;
display:flex;
flex-direction:column;
gap:10px;
}

.msg{
max-width:70%;
padding:10px 14px;
border-radius:16px;
}

.client{
background:#1f2c38;
align-self:flex-start;
}

.me{
background:#2b5278;
align-self:flex-end;
}

.inputbar{
display:flex;
padding:10px;
background:#17212b;
gap:10px;
}

input{
flex:1;
padding:10px;
border-radius:8px;
border:none;
outline:none;
background:#1f2c38;
color:white;
}

button{
padding:10px 14px;
border:none;
border-radius:8px;
background:#2b5278;
color:white;
cursor:pointer;
}

button:hover{
background:#3a6a9c;
}

.price-panel{
position:fixed;
right:0;
top:0;
width:200px;
height:100%;
background:#111b26;
border-left:1px solid #222;
padding:15px;
}

.stat{
margin-bottom:10px;
font-size:14px;
}
</style>
</head>
<body>

<div class="sidebar" id="clients"></div>

<div class="main">
<div class="topbar">
<div>ðŸ’¬ Shadow Dealer</div>
<div id="balance">Balance: $1000</div>
</div>

<div class="chat" id="chat"></div>

<div class="inputbar">
<input id="reply" placeholder="Reply...">
<button onclick="sendReply()">Send</button>
</div>
</div>

<div class="price-panel">
<h3>ðŸ“¦ Price</h3>
<div class="stat">Your price:</div>
<input type="number" id="price" value="500">
<br><br>
<div class="stat">Reputation: <span id="rep">50</span></div>
<div class="stat">Clients satisfied: <span id="sales">0</span></div>
</div>

<script>
let balance=1000;
let reputation=50;
let sales=0;
let currentClient=null;

const clientList=["Alex","Mark","Sasha","Ivan","Leo","Nikita"];
const chat=document.getElementById("chat");
const clients=document.getElementById("clients");

clientList.forEach(name=>{
const div=document.createElement("div");
div.className="chat-item";
div.innerText=name;
div.onclick=()=>openChat(name);
clients.appendChild(div);
});

function openChat(name){
currentClient=name;
chat.innerHTML="";
addMsg("client", name+": Need product. What's your price?");
}

function addMsg(type,text){
const div=document.createElement("div");
div.className="msg "+type;
div.innerText=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function sendReply(){
if(!currentClient) return;

const price=parseInt(document.getElementById("price").value);
addMsg("me","Price: $"+price);

const chance=Math.random();

if(price<400){
balance+=price;
sales++;
reputation+=2;
addMsg("client","Deal. Sending money.");
}else if(price<700){
if(chance>0.4){
balance+=price;
sales++;
reputation+=1;
addMsg("client","Ok fine. Deal.");
}else{
reputation-=2;
addMsg("client","Too expensive. Bye.");
}
}else{
reputation-=5;
addMsg("client","Scam. Blocking you.");
}

updateStats();
}

function updateStats(){
document.getElementById("balance").innerText="Balance: $"+balance;
document.getElementById("rep").innerText=reputation;
document.getElementById("sales").innerText=sales;
}
</script>

</body>
</html>
