<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Shadow Market</title>
<style>
*{box-sizing:border-box}
body{
margin:0;
font-family:-apple-system,BlinkMacSystemFont,Arial;
background:#0f1720;
color:white;
display:flex;
height:100vh;
}

/* LEFT CHAT LIST */
.sidebar{
width:35%;
background:#111b26;
border-right:1px solid #1c2733;
overflow-y:auto;
}

.header{
padding:16px;
font-weight:600;
font-size:18px;
border-bottom:1px solid #1c2733;
}

.chat-item{
display:flex;
align-items:center;
gap:10px;
padding:14px;
cursor:pointer;
border-bottom:1px solid #1c2733;
}

.chat-item:hover{
background:#17212b;
}

.avatar{
width:42px;
height:42px;
border-radius:50%;
background:#2b5278;
display:flex;
align-items:center;
justify-content:center;
font-weight:bold;
}

/* MAIN CHAT */
.main{
flex:1;
display:flex;
flex-direction:column;
background:#0f1720;
}

.topbar{
padding:14px;
background:#111b26;
border-bottom:1px solid #1c2733;
display:flex;
justify-content:space-between;
}

.chat{
flex:1;
overflow-y:auto;
padding:16px;
display:flex;
flex-direction:column;
gap:10px;
}

.msg{
max-width:70%;
padding:10px 14px;
border-radius:16px;
font-size:14px;
}

.client{
background:#17212b;
align-self:flex-start;
border-bottom-left-radius:4px;
}

.me{
background:#2b5278;
align-self:flex-end;
border-bottom-right-radius:4px;
}

.inputbar{
display:flex;
padding:10px;
background:#111b26;
gap:10px;
}

input{
flex:1;
padding:10px;
border-radius:20px;
border:none;
outline:none;
background:#17212b;
color:white;
}

button{
padding:10px 16px;
border:none;
border-radius:20px;
background:#2b5278;
color:white;
cursor:pointer;
}

/* PRICE PANEL */
.price{
width:220px;
background:#0b141c;
border-left:1px solid #1c2733;
padding:15px;
}

.stat{
margin-bottom:12px;
font-size:14px;
}
</style>
</head>
<body>

<div class="sidebar">
<div class="header">ðŸ’¬ Chats</div>
<div id="clients"></div>
</div>

<div class="main">
<div class="topbar">
<div id="chatName">Select chat</div>
<div id="balance">Balance: $1000</div>
</div>

<div class="chat" id="chat"></div>

<div class="inputbar">
<input id="reply" placeholder="Message...">
<button onclick="sendReply()">Send</button>
</div>
</div>

<div class="price">
<h3>ðŸ“¦ Price</h3>
<div class="stat">Your price:</div>
<input type="number" id="price" value="500">
<br><br>
<div class="stat">Reputation: <span id="rep">50</span></div>
<div class="stat">Sales: <span id="sales">0</span></div>
</div>

<script>
let balance=1000;
let reputation=50;
let sales=0;
let currentClient=null;

const clientsData=["Alex","Mark","Sasha","Ivan","Leo","Nikita"];

const clients=document.getElementById("clients");
const chat=document.getElementById("chat");

clientsData.forEach(name=>{
const div=document.createElement("div");
div.className="chat-item";
div.innerHTML=`
<div class="avatar">${name[0]}</div>
<div>${name}</div>
`;
div.onclick=()=>openChat(name);
clients.appendChild(div);
});

function openChat(name){
currentClient=name;
document.getElementById("chatName").innerText=name;
chat.innerHTML="";
addMsg("client","Need product. What's your price?");
}

function addMsg(type,text){
const div=document.createElement("div");
div.className="msg "+type;
div.innerText=text;
chat.appendChild(div);
chat.scrollTop=chat.scrollHeight;
}

function sendReply(){
if(!currentClient) return;

const price=parseInt(document.getElementById("price").value);
addMsg("me","Price: $"+price);

let chance=Math.random();

if(price<400){
balance+=price;
sales++;
reputation+=2;
addMsg("client","Deal ðŸ¤");
}else if(price<700){
if(chance>0.4){
balance+=price;
sales++;
reputation+=1;
addMsg("client","Okay, sending.");
}else{
reputation-=2;
addMsg("client","Too expensive.");
}
}else{
reputation-=5;
addMsg("client","Scam. I'm out.");
}

updateStats();
}

function updateStats(){
document.getElementById("balance").innerText="Balance: $"+balance;
document.getElementById("rep").innerText=reputation;
document.getElementById("sales").innerText=sales;
}
</script>

</body>
</html>
